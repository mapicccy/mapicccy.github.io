(function(h){var n=h("#winterland");var a=n.children("canvas")[0];var m=a.getContext("2d");var c=a.width=n.width();var k=a.height=n.height();var b=c*k/3200;var l=[];for(var g=0;g<b;g++){l.push({x:Math.random()*2*c-c/2,y:Math.random()*k,r:Math.random()*4+1,d:Math.random()*b})}requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(i){setTimeout(i,1000/60)};function j(){m.clearRect(0,0,c,k);m.fillStyle="rgba(255, 255, 255, 1)";m.beginPath();for(var o=0;o<b;o++){var q=l[o];m.moveTo(q.x,q.y);m.arc(q.x,q.y,q.r,0,Math.PI*2,true)}m.fill();f();requestAnimationFrame(j)}var e=0;var d=0.5;function f(){if(e>2*Math.PI){e=0}e+=0.002;for(var o=0;o<b;o++){var q=l[o];q.y+=(Math.cos(e+q.d)+1+q.r/2)*d;q.x+=(Math.sin(e)*2)*d;if(q.x>c*1.5||q.x<-0.5*c||q.y>k){l[o]={x:Math.random()*2*c-c/2,y:-10,r:q.r,d:q.d}}}}j();h(window).resize(function(){c=a.width=n.width();k=a.height=n.height();b=c*k/3200;l=[];for(var o=0;o<b;o++){l.push({x:Math.random()*2*c-c/2,y:Math.random()*k,r:Math.random()*4+1,d:Math.random()*b})}f()})})(jQuery);